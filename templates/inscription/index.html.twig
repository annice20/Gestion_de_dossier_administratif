{% extends 'couvre.html.twig' %}

{% block title %}Inscription & Profil{% endblock %}

{% block body %}
<style>
    .container-main {
        display: flex;
        justify-content: center;
        margin-top: 30px;
    }

    .form-card {
        width: 50%;
        padding: 20px;
        border-radius: 10px;
        background: #ddb2b2; /* couleur de fond pour bien voir la card */
        box-shadow: 0 4px 10px rgba(0,0,0,0.1); /* petite ombre */
    }

    h2 {
        text-align: center;
        margin-bottom: 20px;
    }

    .form-control {
        height: 50px;
        margin-bottom: 1rem;
    }
    
    .form-group .form-control {
        background-color: white;
    }

    .btn-inscription, .suivant {
        display: block;
        margin: 20px auto 0 auto;
    }
</style>

<div class="container-main">
    <div class="form-card">
        {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
        {% endfor %}
        
        <h2>Inscription</h2>

        {{ form_start(formInscription) }}
            <div class="row">
                <div class="col">
                    <div class="form-group mt-1">
                        {{ form_widget(formInscription.email, {'attr': {'class': 'form-control', 'placeholder': 'Entrer votre e-mail'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.telephone, {'attr': {'class': 'form-control', 'placeholder': 'Entrer votre numéro de téléphone'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.hashMdp, {'attr': {'class': 'form-control', 'placeholder': 'Entrer le mot de passe'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.langue, {'attr': {'class': 'form-control', 'placeholder': 'Entrer votre langue'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.roles, {'attr': {'class': 'form-control'}}) }}
                    </div>
                </div>

                <div class="col">
                    <div class="form-group">
                        {{ form_widget(formInscription.nom, {'attr': {'class': 'form-control', 'placeholder': 'Nom'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.prenoms, {'attr': {'class': 'form-control', 'placeholder': 'Prénom'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.dateDeNaissance, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.nin, {'attr': {'class': 'form-control', 'placeholder': 'NIN'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.adresse, {'attr': {'class': 'form-control', 'placeholder': 'Adresse'}}) }}
                    </div>
                    <div class="form-group">
                        {{ form_widget(formInscription.commune, {'attr': {'class': 'form-control', 'placeholder': 'Commune'}}) }}
                    </div>
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-inscription">S'inscrire</button>
        {{ form_end(formInscription) }}

        {% if lastUser %}
            <a class="suivant btn btn-success mt-3"
               href="{{ path('app_code_validation', {'id': lastUser.getId()}) }}">
               Suivant
            </a>
        {% endif %}
    </div>
</div>
{% endblock %}
